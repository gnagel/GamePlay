<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>gameplay: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>gameplay</b></li><li class="navelem"><a class="el" href="classgameplay_1_1_terrain.html">Terrain</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classgameplay_1_1_terrain-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">gameplay::Terrain Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;Terrain.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for gameplay::Terrain:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classgameplay_1_1_terrain.png" usemap="#gameplay::Terrain_map" alt=""/>
  <map id="gameplay::Terrain_map" name="gameplay::Terrain_map">
<area href="classgameplay_1_1_ref.html" alt="gameplay::Ref" shape="rect" coords="0,0,180,24"/>
<area href="classgameplay_1_1_transform_1_1_listener.html" alt="gameplay::Transform::Listener" shape="rect" coords="190,0,370,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a77a4beef1ca0bf89e4568f34e7091337"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgameplay_1_1_terrain.html#a77a4beef1ca0bf89e4568f34e7091337">Flags</a> { <a class="el" href="classgameplay_1_1_terrain.html#a77a4beef1ca0bf89e4568f34e7091337ad3d303c4b1821ef74c4878ee9f6fcd31">DEBUG_PATCHES</a> = 1, 
<a class="el" href="classgameplay_1_1_terrain.html#a77a4beef1ca0bf89e4568f34e7091337abe18a570f7a6c3da4f6e433c80b198e9">FRUSTUM_CULLING</a> = 2, 
<a class="el" href="classgameplay_1_1_terrain.html#a77a4beef1ca0bf89e4568f34e7091337aef0a6dfe55dce4f750b9660f61a210bf">LEVEL_OF_DETAIL</a> = 8
 }</td></tr>
<tr class="separator:a77a4beef1ca0bf89e4568f34e7091337"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a25ac9e9dcc1e84590584bfd568889ddb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgameplay_1_1_terrain.html#a25ac9e9dcc1e84590584bfd568889ddb">setLayer</a> (int index, const char *texturePath, const <a class="el" href="classgameplay_1_1_vector2.html">Vector2</a> &amp;textureRepeat=<a class="el" href="classgameplay_1_1_vector2.html#a0d3d80ae15af665d29e096ea1e639fa5">Vector2::one</a>(), const char *blendPath=NULL, int blendChannel=0, int row=-1, int column=-1)</td></tr>
<tr class="separator:a25ac9e9dcc1e84590584bfd568889ddb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a707b0b95ad0672ee92bb66c20ca55086"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgameplay_1_1_node.html">Node</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgameplay_1_1_terrain.html#a707b0b95ad0672ee92bb66c20ca55086">getNode</a> () const </td></tr>
<tr class="separator:a707b0b95ad0672ee92bb66c20ca55086"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9734422425b27864cf1c82ff3f5d9e56"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgameplay_1_1_terrain.html#a9734422425b27864cf1c82ff3f5d9e56">isFlagSet</a> (<a class="el" href="classgameplay_1_1_terrain.html#a77a4beef1ca0bf89e4568f34e7091337">Flags</a> flag) const </td></tr>
<tr class="separator:a9734422425b27864cf1c82ff3f5d9e56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae914df6ea27766b699e299edaf7baec6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgameplay_1_1_terrain.html#ae914df6ea27766b699e299edaf7baec6">setFlag</a> (<a class="el" href="classgameplay_1_1_terrain.html#a77a4beef1ca0bf89e4568f34e7091337">Flags</a> flag, bool on)</td></tr>
<tr class="separator:ae914df6ea27766b699e299edaf7baec6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac13dc13eb94bce1e7c1a099254c6e046"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgameplay_1_1_terrain.html#ac13dc13eb94bce1e7c1a099254c6e046">getPatchCount</a> () const </td></tr>
<tr class="separator:ac13dc13eb94bce1e7c1a099254c6e046"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46822805029b9a827b6b4e42b872d2f9"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgameplay_1_1_terrain.html#a46822805029b9a827b6b4e42b872d2f9">getVisiblePatchCount</a> () const </td></tr>
<tr class="separator:a46822805029b9a827b6b4e42b872d2f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a597044938b929595cb0968bba533dfb8"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgameplay_1_1_terrain.html#a597044938b929595cb0968bba533dfb8">getTriangleCount</a> () const </td></tr>
<tr class="separator:a597044938b929595cb0968bba533dfb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc38615394be544d1d19646ae721c19f"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgameplay_1_1_terrain.html#afc38615394be544d1d19646ae721c19f">getVisibleTriangleCount</a> () const </td></tr>
<tr class="separator:afc38615394be544d1d19646ae721c19f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f8c420e9a17e8011f3c387d8064785c"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classgameplay_1_1_bounding_box.html">BoundingBox</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgameplay_1_1_terrain.html#a6f8c420e9a17e8011f3c387d8064785c">getBoundingBox</a> () const </td></tr>
<tr class="separator:a6f8c420e9a17e8011f3c387d8064785c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebc6971cb61b3524c6eafd695bf65b0a"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgameplay_1_1_terrain.html#aebc6971cb61b3524c6eafd695bf65b0a">getHeight</a> (float x, float z) const </td></tr>
<tr class="separator:aebc6971cb61b3524c6eafd695bf65b0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28d968d49d063fd77545b350a2bf964c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgameplay_1_1_terrain.html#a28d968d49d063fd77545b350a2bf964c">draw</a> (bool wireframe=false)</td></tr>
<tr class="separator:a28d968d49d063fd77545b350a2bf964c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9199fd7478ccb6e24c53090d7a9d2498"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgameplay_1_1_terrain.html#a9199fd7478ccb6e24c53090d7a9d2498">transformChanged</a> (<a class="el" href="classgameplay_1_1_transform.html">Transform</a> *transform, long cookie)</td></tr>
<tr class="separator:a9199fd7478ccb6e24c53090d7a9d2498"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classgameplay_1_1_ref"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classgameplay_1_1_ref')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classgameplay_1_1_ref.html">gameplay::Ref</a></td></tr>
<tr class="memitem:a66e39f63477efb32cc190f6605ef0c74 inherit pub_methods_classgameplay_1_1_ref"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgameplay_1_1_ref.html#a66e39f63477efb32cc190f6605ef0c74">addRef</a> ()</td></tr>
<tr class="separator:a66e39f63477efb32cc190f6605ef0c74 inherit pub_methods_classgameplay_1_1_ref"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafd8a7a7934b33c8bf216756d04cf33b inherit pub_methods_classgameplay_1_1_ref"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgameplay_1_1_ref.html#aafd8a7a7934b33c8bf216756d04cf33b">release</a> ()</td></tr>
<tr class="separator:aafd8a7a7934b33c8bf216756d04cf33b inherit pub_methods_classgameplay_1_1_ref"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f58fd4c48dd9ed3ad2019d88fd1196d inherit pub_methods_classgameplay_1_1_ref"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgameplay_1_1_ref.html#a6f58fd4c48dd9ed3ad2019d88fd1196d">getRefCount</a> () const </td></tr>
<tr class="separator:a6f58fd4c48dd9ed3ad2019d88fd1196d inherit pub_methods_classgameplay_1_1_ref"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a63dedd20650320e85abb711123ba0726"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classgameplay_1_1_terrain.html">Terrain</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgameplay_1_1_terrain.html#a63dedd20650320e85abb711123ba0726">create</a> (const char *path)</td></tr>
<tr class="separator:a63dedd20650320e85abb711123ba0726"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a768c3c5bddfa732515558059082c7b05"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classgameplay_1_1_terrain.html">Terrain</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgameplay_1_1_terrain.html#a768c3c5bddfa732515558059082c7b05">create</a> (<a class="el" href="classgameplay_1_1_properties.html">Properties</a> *properties)</td></tr>
<tr class="separator:a768c3c5bddfa732515558059082c7b05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91a191a662bd043748d7145f80525b35"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classgameplay_1_1_terrain.html">Terrain</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgameplay_1_1_terrain.html#a91a191a662bd043748d7145f80525b35">create</a> (<a class="el" href="classgameplay_1_1_height_field.html">HeightField</a> *heightfield, const <a class="el" href="classgameplay_1_1_vector3.html">Vector3</a> &amp;scale=<a class="el" href="classgameplay_1_1_vector3.html#a62d0ac4c219bfca49946298cfc5819de">Vector3::one</a>(), unsigned int patchSize=32, unsigned int detailLevels=1, float skirtScale=0.0f, const char *normalMapPath=NULL)</td></tr>
<tr class="separator:a91a191a662bd043748d7145f80525b35"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classgameplay_1_1_ref"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classgameplay_1_1_ref')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classgameplay_1_1_ref.html">gameplay::Ref</a></td></tr>
<tr class="memitem:a866a859fcc96f2a48d5ee2f06a8c2a43 inherit pro_methods_classgameplay_1_1_ref"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgameplay_1_1_ref.html#a866a859fcc96f2a48d5ee2f06a8c2a43">Ref</a> ()</td></tr>
<tr class="separator:a866a859fcc96f2a48d5ee2f06a8c2a43 inherit pro_methods_classgameplay_1_1_ref"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4af6b566116534038e02bfffea72867f inherit pro_methods_classgameplay_1_1_ref"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgameplay_1_1_ref.html#a4af6b566116534038e02bfffea72867f">Ref</a> (const <a class="el" href="classgameplay_1_1_ref.html">Ref</a> &amp;copy)</td></tr>
<tr class="separator:a4af6b566116534038e02bfffea72867f inherit pro_methods_classgameplay_1_1_ref"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4442b32c090160052130593d6523945c inherit pro_methods_classgameplay_1_1_ref"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgameplay_1_1_ref.html#a4442b32c090160052130593d6523945c">~Ref</a> ()</td></tr>
<tr class="separator:a4442b32c090160052130593d6523945c inherit pro_methods_classgameplay_1_1_ref"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Defines a <a class="el" href="classgameplay_1_1_terrain.html">Terrain</a> that is capable of rendering large landscapes from 2D heightmap images.</p>
<p>Terrains can be constructed from several different heightmap sources:</p>
<ol type="1">
<li>Basic intensity image (PNG), where the intensity of pixel represents the height of the terrain.</li>
<li>24-bit high precision heightmap image (PNG), which can be generated from a mesh using gameplay-encoder.</li>
<li>8-bit or 16-bit RAW heightmap image using PC byte ordering (little endian), which is compatible with many external tools such as World Machine, Unity and more.</li>
</ol>
<p>Physics/collision is supported by setting a rigid body collision object on the <a class="el" href="classgameplay_1_1_node.html">Node</a> that the terrain is attached to. The collision shape should be specified using <a class="el" href="classgameplay_1_1_physics_collision_shape.html#a29bfd9434e3c3189afec915bb60cc8a2">PhysicsCollisionShape::heightfield()</a>, which will utilize the internal height array of the terrain to define the collision shape. Define a collision object in this way will allow the terrain to automatically interact with other rigid bodies, characters and vehicles in the scene.</p>
<p>Surface detail is provided via texture splatting, where multiple texture layers can be added along with blend maps to define how different layers blend with each other. These layers can be defined in terrain properties files, as well as with the setLayer method. The number of supported layers depends on the target hardware, although typically 2-3 levels is sufficient. Multiple blend maps for different layers can be packed into different channels of a single texture for more efficient texture utilization. Levels can be applied across the entire terrain, or in more complex cases, for individual patches only.</p>
<p>Surface lighting is achieved with either vertex normals or with a normal map. If a normal map is used, it should be an object-space normal map containing normal vectors for the entire terrain, encoded into the red, green and blue channels of the texture. This is useful as a replacement for vertex normals, especially when using level-of-detail, since it allows you to provide high quality normal vectors regardless of the tessellation or LOD of the terrain. This also eliminates lighting artifacts/popping from LOD changes, which commonly occurs when vertex normals are used. A terrain normal map can only be specified at creation time, since it requires omission of vertex normal information in the generated terrain geometry data.</p>
<p>Internally, <a class="el" href="classgameplay_1_1_terrain.html">Terrain</a> is broken into smaller, more managable patches, which can be culled separately for more efficient rendering. The size of the terrain patches can be controlled via the patchSize property. Patches can be previewed by enabling the DEBUG_PATCHES flag via the setFlag method. Other terrain behavior can also be enabled and disabled using terrain flags.</p>
<p>Level of detail (LOD) is supported using a technique that is similar to texture mipmapping. A distance-to-camera based test, using a simple screen-space error metric is used to decide the appropriate LOD for a terrain patch. The number of LOD levels is 1 by default (which means only the base level is used), but can be specified via the detailLevels property. Using too large a number for detailLevels can result in excessive popping in the distance for very hilly terrains, so a smaller number (2-3) often works best in these cases.</p>
<p>Finally, when LOD is enabled, cracks can begin to appear between terrain patches of different LOD levels. If the cracks are only minor (depends on your terrain topology and tetures used), an acceptable appraoch might be to simply use a background clear color that closely matches your terrain to make the cracks much less visible. However, often that is not acceptable, so the <a class="el" href="classgameplay_1_1_terrain.html">Terrain</a> class also supports a simple solution called "vertical skirts". When enabled (via the skirtScale parameter in the terrain file), a vertical edge will extend down along the sides of all terrain patches, which fills in the crack. This is a very fast approach as it adds only a small number of triangles per patch and requires zero extra CPU time or draw calls, which are often needed for more complex stitching approaches. In practice, the skirts are often not noticable at all unless the LOD variation is very large and the terrain is excessively hilly on the edge of a LOD transition. </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a77a4beef1ca0bf89e4568f34e7091337"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classgameplay_1_1_terrain.html#a77a4beef1ca0bf89e4568f34e7091337">gameplay::Terrain::Flags</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="classgameplay_1_1_terrain.html">Terrain</a> flags. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a77a4beef1ca0bf89e4568f34e7091337ad3d303c4b1821ef74c4878ee9f6fcd31"></a>DEBUG_PATCHES</em>&nbsp;</td><td>
<p>Draw terrain patches different colors (off by default). </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a77a4beef1ca0bf89e4568f34e7091337abe18a570f7a6c3da4f6e433c80b198e9"></a>FRUSTUM_CULLING</em>&nbsp;</td><td>
<p>Enables view frustum culling (on by default).</p>
<p><a class="el" href="classgameplay_1_1_frustum.html">Frustum</a> culling uses the scene's active camera. The terrain must be attached to a node that is within a scene for this to work. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a77a4beef1ca0bf89e4568f34e7091337aef0a6dfe55dce4f750b9660f61a210bf"></a>LEVEL_OF_DETAIL</em>&nbsp;</td><td>
<p>Enables level of detail (on by default).</p>
<p>This flag enables or disables level of detail, however it does nothing if "detailLevels" was not set to a value greater than 1 in the terrain properties file at creation time. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a63dedd20650320e85abb711123ba0726"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classgameplay_1_1_terrain.html">Terrain</a>* gameplay::Terrain::create </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Loads a <a class="el" href="classgameplay_1_1_terrain.html">Terrain</a> from the given properties file.</p>
<p>The specified properties file can contain a full terrain definition, including a heightmap (PNG, RAW8, RAW16), level of detail information, patch size, layer texture details and vertical skirt size.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>Path to a properties file describing the terrain.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A new <a class="el" href="classgameplay_1_1_terrain.html">Terrain</a>.  </dd></dl>

</div>
</div>
<a class="anchor" id="a768c3c5bddfa732515558059082c7b05"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classgameplay_1_1_terrain.html">Terrain</a>* gameplay::Terrain::create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgameplay_1_1_properties.html">Properties</a> *&#160;</td>
          <td class="paramname"><em>properties</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates a new terrain definition from the configuration in the specified <a class="el" href="classgameplay_1_1_properties.html">Properties</a> object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">properties</td><td><a class="el" href="classgameplay_1_1_properties.html">Properties</a> object containing the terrain definition.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A new <a class="el" href="classgameplay_1_1_terrain.html">Terrain</a>.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classgameplay_1_1_terrain.html#a63dedd20650320e85abb711123ba0726">create(const char*)</a>  </dd></dl>

</div>
</div>
<a class="anchor" id="a91a191a662bd043748d7145f80525b35"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classgameplay_1_1_terrain.html">Terrain</a>* gameplay::Terrain::create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgameplay_1_1_height_field.html">HeightField</a> *&#160;</td>
          <td class="paramname"><em>heightfield</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classgameplay_1_1_vector3.html">Vector3</a> &amp;&#160;</td>
          <td class="paramname"><em>scale</em> = <code><a class="el" href="classgameplay_1_1_vector3.html#a62d0ac4c219bfca49946298cfc5819de">Vector3::one</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>patchSize</em> = <code>32</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>detailLevels</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>skirtScale</em> = <code>0.0f</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>normalMapPath</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates a terrain from the given heightfield.</p>
<p><a class="el" href="classgameplay_1_1_terrain.html">Terrain</a> geometry is loaded from the given height array, using the specified parameters for size, patch size, detail levels and skirt scale.</p>
<p>The newly created terrain increases the reference count of the <a class="el" href="classgameplay_1_1_height_field.html">HeightField</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">heightfield</td><td>The heightfield object containing height data for the terrain. </td></tr>
    <tr><td class="paramname">scale</td><td>A scale to apply to the terrain along the X, Y and Z axes. The terrain and any associated physics hegihtfield is scaled by this amount. <a class="el" href="classgameplay_1_1_pass.html">Pass</a> <a class="el" href="classgameplay_1_1_vector3.html#a62d0ac4c219bfca49946298cfc5819de">Vector3::one()</a> to use the exact dimensions and heights in the supplied height array. </td></tr>
    <tr><td class="paramname">patchSize</td><td>Size of terrain patches (number of quads). </td></tr>
    <tr><td class="paramname">detailLevels</td><td>Number of detail levels to generate for the terrain (a value of one generates only the base level, resulting in no LOD at runtime. </td></tr>
    <tr><td class="paramname">skirtScale</td><td>A positive value indicates that vertical skirts should be generated at the specified scale, which is relative to the height of the terrain. For example, a value of 0.5f indicates that vertical skirts should extend down by half of the maximum height of the terrain. A value of zero disables vertical skirts. </td></tr>
    <tr><td class="paramname">normalMapPath</td><td>Path to an object-space normal map to use for terrain lighting, instead of vertex normals.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A new <a class="el" href="classgameplay_1_1_terrain.html">Terrain</a>.  </dd></dl>

</div>
</div>
<a class="anchor" id="a28d968d49d063fd77545b350a2bf964c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gameplay::Terrain::draw </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>wireframe</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Draws the terrain.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wireframe</td><td>True to draw the terrain as wireframe, false to draw it solid (default). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6f8c420e9a17e8011f3c387d8064785c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classgameplay_1_1_bounding_box.html">BoundingBox</a>&amp; gameplay::Terrain::getBoundingBox </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the local bounding box for this terrain.</p>
<dl class="section return"><dt>Returns</dt><dd>The local bounding box for the terrain. </dd></dl>

</div>
</div>
<a class="anchor" id="aebc6971cb61b3524c6eafd695bf65b0a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float gameplay::Terrain::getHeight </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>z</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the world-space height of the terrain at the specified position on the X,Z plane.</p>
<p>The specified X and Z coordinates should be in world units and may fall between height values. In this case, an interpolated value will be returned between neighboring heightfield heights. If the specified point lies outside of the terrain, it is clamped to the terrain boundaries.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>The X coordinate, in world space. </td></tr>
    <tr><td class="paramname">z</td><td>The Z coordinate, in world space.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The height at the specified point, clamped to the boundaries of the terrain. </dd></dl>

</div>
</div>
<a class="anchor" id="a707b0b95ad0672ee92bb66c20ca55086"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgameplay_1_1_node.html">Node</a>* gameplay::Terrain::getNode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the node that this terrain is bound to.</p>
<dl class="section return"><dt>Returns</dt><dd>The node this terrain is bound to, or NULL if the terrain is not bound to a node. </dd></dl>

</div>
</div>
<a class="anchor" id="ac13dc13eb94bce1e7c1a099254c6e046"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int gameplay::Terrain::getPatchCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the total number of terrain patches.</p>
<dl class="section return"><dt>Returns</dt><dd>The number of terrain patches. </dd></dl>

</div>
</div>
<a class="anchor" id="a597044938b929595cb0968bba533dfb8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int gameplay::Terrain::getTriangleCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the total number of triangles for this terrain at the base LOD.</p>
<dl class="section return"><dt>Returns</dt><dd>The total triangle count for the terrain at the base LOD. </dd></dl>

</div>
</div>
<a class="anchor" id="a46822805029b9a827b6b4e42b872d2f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int gameplay::Terrain::getVisiblePatchCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the number of patches that are currently visible from the scene camera's point of view.</p>
<p>If the terrain is not attached to a scene, or if there is no active scene camera, this method returns zero.</p>
<p>This method is not exact - it may return false positives since it only determines if the bounding box of terrain patches intersect the view frustum. Should be used for debug purposes only.</p>
<dl class="section return"><dt>Returns</dt><dd>The number of currently visible patches. </dd></dl>

</div>
</div>
<a class="anchor" id="afc38615394be544d1d19646ae721c19f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int gameplay::Terrain::getVisibleTriangleCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the number of currently visible triangles, taking LOD and view frustum (if enabled) into consideration.</p>
<dl class="section return"><dt>Returns</dt><dd>The current visible triangle count. </dd></dl>

</div>
</div>
<a class="anchor" id="a9734422425b27864cf1c82ff3f5d9e56"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gameplay::Terrain::isFlagSet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgameplay_1_1_terrain.html#a77a4beef1ca0bf89e4568f34e7091337">Flags</a>&#160;</td>
          <td class="paramname"><em>flag</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determines if the specified terrain flag is currently set. </p>

</div>
</div>
<a class="anchor" id="ae914df6ea27766b699e299edaf7baec6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gameplay::Terrain::setFlag </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgameplay_1_1_terrain.html#a77a4beef1ca0bf89e4568f34e7091337">Flags</a>&#160;</td>
          <td class="paramname"><em>flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>on</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enables or disables the specified terrain flag.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flag</td><td>The terrain flag to set. </td></tr>
    <tr><td class="paramname">on</td><td>True to turn the flag on, false to turn it off. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a25ac9e9dcc1e84590584bfd568889ddb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gameplay::Terrain::setLayer </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>texturePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classgameplay_1_1_vector2.html">Vector2</a> &amp;&#160;</td>
          <td class="paramname"><em>textureRepeat</em> = <code><a class="el" href="classgameplay_1_1_vector2.html#a0d3d80ae15af665d29e096ea1e639fa5">Vector2::one</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>blendPath</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>blendChannel</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>row</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>column</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the detail textures information for a terrain layer.</p>
<p>A detail layer includes a color texture, a repeat count across the terrain for the texture and a region of the texture to use.</p>
<p>Optionally, a layer can also include a blend texture, which is used to instruct the terrain how to blend the new layer with the layer underneath it. Blend maps use only a single channel of a texture and are best supplied by packing the blend map for a layer into the alpha channel of the color texture. Blend maps are always stretched over the entire terrain</p>
<p>The lowest/base layer of the terrain should not include a blend map, since there is no lower level to blend with. All other layers should normally include a blend map. However, since no blend map will result in the texture completely masking the layer underneath it.</p>
<p>Detail layers can be applied globally (to the entire terrain), or to one or more specific patches in the terrain. Patches are specified by row and column number, which is dependent on the patch size configuration of your terrain. For layers that span the entire terrain, the repeat count is relative to the entire terrain. For layers that span only specific patches, the repeat count is relative to those patches only.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>Layer index number. Layer indexes do not neccessarily need to be sequential and are used simply to uinquely identify layers, where higher numbers specificy higher-level layers. </td></tr>
    <tr><td class="paramname">texturePath</td><td>Path to the color texture for this layer. </td></tr>
    <tr><td class="paramname">textureRepeat</td><td>Repeat count for the color texture across the terrain or patches. </td></tr>
    <tr><td class="paramname">blendPath</td><td>Path to the blend texture for this layer (optional). </td></tr>
    <tr><td class="paramname">blendChannel</td><td>Channel of the blend texture to sample for the blend map (0 == R, 1 == G, 2 == B, 3 == A). </td></tr>
    <tr><td class="paramname">row</td><td>Specifies the row index of patches to use this layer (optional, -1 means all rows). </td></tr>
    <tr><td class="paramname">column</td><td>Specifies the column index of patches to use this layer (optional, -1 means all columns).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the layer was successfully set, false otherwise. The most common reason for failure is an invalid texture path.</dd></dl>
 
</div>
</div>
<a class="anchor" id="a9199fd7478ccb6e24c53090d7a9d2498"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void gameplay::Terrain::transformChanged </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgameplay_1_1_transform.html">Transform</a> *&#160;</td>
          <td class="paramname"><em>transform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>cookie</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classgameplay_1_1_transform_1_1_listener.html#a719bdf75ddcac8ccc124df183d8e8051">Transform::Listener::transformChanged</a>.</dd></dl>
<p>Internal use only.</p>
 
<p>Implements <a class="el" href="classgameplay_1_1_transform_1_1_listener.html#a719bdf75ddcac8ccc124df183d8e8051">gameplay::Transform::Listener</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jan 16 2013 21:25:08 for gameplay by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
